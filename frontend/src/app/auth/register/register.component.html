<div class="container h-100 mt-5">

  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4 rounded-3 bg-light">
      <div class="p-3" *ngIf="!loading">
        <h3>Registrate</h3>
        <form [formGroup]="registerForm">
          <div class="row mt-2">
            <div class="col-lg">
              <label class="form-label">Nombre(s)</label>
              <input type="text" class="form-control" [ngClass]="{'is-invalid': notValidNombre}" formControlName="nombre">
              <div class="invalid-feedback">
                Nombre es requerido
              </div>   
            </div>
            <div class="col-lg">
              <label class="form-label">Apellido(s)</label>
              <input type="text" class="form-control" [ngClass]="{'is-invalid': notValidApellido}" formControlName="apellido">
              <div class="invalid-feedback">
                Apellido es requerido
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg">
              <label class="form-label">Telefono</label>
              <input type="text" class="form-control" [ngClass]="{'is-invalid': notValidTelefono}" formControlName="telefono">
              <div class="invalid-feedback">
                Telefono es requerido
              </div>
            </div>
            <div class="col-lg">
              <label class="form-label">Fecha de Nacimiento</label>
              <input type="date" class="form-control" [ngClass]="{'is-invalid': notValidFechaNacimiento}" formControlName="fechaNacimiento">
              <div class="invalid-feedback">
                Fecha de Nacimiento es requerida
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg">
              <label class="form-label">Rol</label>
              <select class="form-select" [ngClass]="{'is-invalid': notValidRol}" formControlName="rol">
                <option [ngValue]="null">Seleccionar Rol</option>
                <option value="Cliente">Cliente</option>
                <option value="Trabajador">Trabajador</option>
              </select>
              <div class="invalid-feedback">
                Rol es requerido
              </div>
            </div>
            <div class="col-lg">
              <label class="form-label">Correo Electrónico</label>
              <input type="email" class="form-control" [ngClass]="{'is-invalid': notValidCorreo}" formControlName="correo">
              <div class="invalid-feedback">
                Correo válido es requerido
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg">
              <label class="form-label">Contraseña</label>
              <input type="password" class="form-control" [ngClass]="{'is-invalid': notValidPassword}" formControlName="password">
              <div class="invalid-feedback">
                Debe tener mínimo 8 caracteres, 1 especial, 1 mayúscula, 1 minúscula
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg">
              <label class="form-label">Repetir Contraseña</label>
              <input type="password" class="form-control" [ngClass]="{'is-invalid': notValidPasswordRepeat}" formControlName="passwordRepeat">
              <div class="invalid-feedback">
                Debe ser exactamente igual
              </div>
            </div>
          </div>
          <div class="alert alert-danger mt-2" *ngIf="showAlert">
            {{ alertMessage }}
          </div>
          <div class="d-flex justify-content-between mt-2">
            <a class="text-primary" [routerLink]="['/auth/login']">Ya tienes cuenta?</a>
            <button type="button" class="btn btn-primary" [disabled]="registerForm.invalid" (click)="register()">Registrar</button>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-4"></div>
  </div>

</div>